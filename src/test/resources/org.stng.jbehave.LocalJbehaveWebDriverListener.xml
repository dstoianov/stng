<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE suite SYSTEM "http://testng.org/testng-1.0.dtd">
<suite name="Suite" parallel="tests" junit="false" verbose="1" configfailurepolicy="continue" thread-count="8">
    <!--
        REMEMBER TO set the junit suite parameter to true, to run jbehave tests as junit ones!!!!
    -->
    <listeners>
        <!--
            I can't access the "browserName" parameter inside this listener
        -->
        <listener class-name="org.testng.Reporter"/>
        <listener class-name="org.stng.jbehave.LocalJbehaveWebDriverListener" />
        <listener class-name="org.stng.jbehave.OnFailureListener" />


        <!--
            I've added an AdditionalTestListener that implements ITestListener,
            to see whether I can access this "browserName" parameters, and I can, but the parameter is always overwritten
            by the value provided in the last test from the test suite!!!!
        -->
        <!--<listener class-name="org.stng.jbehave.AdditionalTestListener" />-->
    </listeners>
    <test name="Tests in FF">
        <parameter name="browserName" value="firefox" />
        <!-- If you want to be more specific, replace this with a list of test classes you'd like to run -->
        <classes>
            <class name="org.stng.jbehave.ModifiedOfficialJBehaveTestNGStories" />
        </classes>
    </test>
    <test name="Tests in Chrome">
        <parameter name="browserName" value="chrome" />
        <classes>
            <class name="org.stng.jbehave.ModifiedOfficialJBehaveTestNGStories"/>
        </classes>
    </test>
</suite>